<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UoE Safe | Health Department Dashboard</title>

    <!-- Font Awesome for Icons -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <!-- Custom CSS for Health Department -->
    <link rel="stylesheet" href="../Styles/health.css">
    <!--js link-->
    <script type="module" src="/Backend/pages/health.js"></script>
    <!-- Chart.js for Data Visualization -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.min.js"></script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>


</head>

<body>
    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <p style="font-size: 1.1rem; color: var(--primary-700); font-weight: 600; margin-top: 20px;">
            Loading Health Department Dashboard...
        </p>
    </div>

    <!-- Modern Sidebar -->
    <nav class="sidebar">
        <div class="sidebar-header">
            <h2><i class="fas fa-heartbeat"></i> UoE Safe</h2>
            <p>Health Department Dashboard</p>
        </div>

        <ul class="sidebar-menu">
            <li class="menu-item active" data-target="dashboard">
                <i class="fas fa-tachometer-alt"></i>
                <span>Dashboard Overview</span>
            </li>
            <li class="menu-item" data-target="health-data">
                <i class="fas fa-notes-medical"></i>
                <span>Health Data Management</span>
            </li>
            <li class="menu-item" data-target="mental-health">
                <i class="fas fa-brain"></i>
                <span>Mental Health Cases</span>
            </li>
            <li class="menu-item" data-target="womens-health">
                <i class="fas fa-female"></i>
                <span>Women's Health</span>
            </li>
            <li class="menu-item" data-target="emergency-cases">
                <i class="fas fa-ambulance"></i>
                <span>Emergency Cases</span>
            </li>
            <li class="menu-item" data-target="analytics">
                <i class="fas fa-chart-bar"></i>
                <span>Health Analytics</span>
            </li>
            <li class="menu-item" data-target="reports">
                <i class="fas fa-file-medical-alt"></i>
                <span>Medical Reports</span>
            </li>
            <li class="menu-item" data-target="system">
                <i class="fas fa-cog"></i>
                <span>System Settings</span>
            </li>
        </ul>

        <div class="sidebar-footer">
            <div class="user-info">
                <div class="user-avatar" id="userAvatar">HD</div>
                <div class="user-details">
                    <span class="user-name" id="sidebar-user-name">Loading...</span>
                    <span class="user-role">Health Department</span>
                </div>
            </div>
            <button class="logout-btn" onclick="logout()" title="Logout">
                <i class="fas fa-sign-out-alt"></i>
            </button>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
        <!-- Enhanced Header -->
        <header class="content-header">
            <div class="header-left">
                <h1 id="page-title">Health Dashboard Overview</h1>
                <p id="page-subtitle">
                    <i class="fas fa-university"></i> University of Eldoret Health Department â€¢
                    <i class="fas fa-clock"></i> Real-time Monitoring
                </p>
            </div>
            <div class="header-right">
                <div class="search-box">
                    <i class="fas fa-search"></i>
                    <input type="text" placeholder="Search health records, patients..." id="health-search">
                </div>
                <!-- Notifications System -->
                <div class="notifications" id="notificationsContainer">
                    <i class="fas fa-bell notification-bell" id="notificationBell"></i>
                    <span class="notification-badge" id="notificationCount">0</span>

                    <!-- Notification Panel -->
                    <div class="notification-panel" id="notificationPanel">
                        <div class="notification-header">
                            <h3><i class="fas fa-bell"></i> Notifications</h3>
                            <div class="notification-actions">
                                <button class="notification-action-btn" onclick="markAllAsRead()"
                                    title="Mark all as read">
                                    <i class="fas fa-check-double"></i>
                                </button>
                                <button class="notification-action-btn" onclick="refreshNotifications()"
                                    title="Refresh">
                                    <i class="fas fa-sync-alt"></i>
                                </button>
                                <button class="notification-action-btn" onclick="clearNotifications()"
                                    title="Clear all">
                                    <i class="fas fa-trash-alt"></i>
                                </button>
                            </div>
                        </div>

                        <div class="notification-list" id="notificationList">
                            <!-- Dynamic notifications will be loaded here -->
                        </div>

                        <div class="notification-footer">
                            <a href="#" class="view-all-notifications" onclick="showAllNotifications()">
                                View All Notifications <i class="fas fa-arrow-right"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Dashboard Overview Section -->
        <section id="dashboard" class="content-section active">
            <!-- Enhanced Stats Grid -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon total-reports">
                        <i class="fas fa-file-medical-alt"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="total-health-records">0</h3>
                        <p>Total Health Records</p>
                        <small>
                            <i class="fas fa-sync-alt"></i> Updated in real-time
                        </small>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon pending">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="mental-health-cases">0</h3>
                        <p>Mental Health Cases</p>
                        <small>
                            <i class="fas fa-exclamation-circle"></i> Requiring attention
                        </small>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon resolved">
                        <i class="fas fa-venus"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="womens-health">0</h3>
                        <p>Women's Health Cases</p>
                        <small>
                            <i class="fas fa-stethoscope"></i> Specialized care needed
                        </small>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon users">
                        <i class="fas fa-mars"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="mens-health">0</h3>
                        <p>Men's Health Cases</p>
                        <small>
                            <i class="fas fa-user-md"></i> Active cases
                        </small>
                    </div>
                </div>
            </div>

            <!-- Enhanced Dashboard Grid -->
            <div class="dashboard-grid">
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-chart-pie"></i> Health Concerns Distribution</h3>
                        <span>Real-time data visualization</span>
                    </div>
                    <canvas id="healthChart"></canvas>
                </div>

                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-users"></i> Gender Distribution</h3>
                        <span>Patient demographics</span>
                    </div>
                    <canvas id="genderChart"></canvas>
                </div>

                <div class="recent-activity">
                    <div class="activity-header">
                        <h3><i class="fas fa-history"></i> Recent Health Submissions</h3>
                        <a href="#" class="view-all" onclick="showSection('health-data')">
                            View All <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                    <div class="activity-list" id="recent-health-list">
                        <!-- Dynamic content loaded here -->
                    </div>
                </div>

                <div class="priority-stats">
                    <div class="priority-header">
                        <h3><i class="fas fa-exclamation-triangle"></i> Top Health Concerns</h3>
                        <span>Priority areas</span>
                    </div>
                    <div class="priority-list" id="health-concerns-list">
                        <!-- Dynamic content loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Health Data Management Section -->
        <section id="health-data" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-database"></i> Health Data Management</h2>
                <div class="header-actions">
                    <div class="filters">
                        <select id="gender-filter" class="form-control">
                            <option value="">All Genders</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                            <option value="Other">Other</option>
                        </select>
                        <select id="location-filter" class="form-control">
                            <option value="">All Locations</option>
                            <option value="Hostel A">Hostel A</option>
                            <option value="Hostel B">Hostel B</option>
                            <option value="Main Campus">Main Campus</option>
                            <option value="Library">Library</option>
                            <option value="Sports Complex">Sports Complex</option>
                        </select>
                        <select id="concern-filter" class="form-control">
                            <option value="">All Concerns</option>
                            <option value="mental">Mental Health</option>
                            <option value="academic">Academic Pressure</option>
                            <option value="womens">Women's Health</option>
                            <option value="general">General Health</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="exportHealthData()">
                        <i class="fas fa-download"></i> Export Data
                    </button>
                    <button class="btn btn-secondary" onclick="showAddRecordModal()">
                        <i class="fas fa-plus"></i> Add Record
                    </button>
                </div>
            </div>

            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Patient ID</th>
                            <th>Gender</th>
                            <th>Location</th>
                            <th>Main Complaint</th>
                            <th>Mental Health</th>
                            <th>Women's Health</th>
                            <th>Submitted</th>
                            <th>Priority</th>
                            <th>Actions</th>
                        </tr>
                    </thead>
                    <tbody id="health-table-body">
                        <!-- Dynamic content loaded here -->
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Mental Health Cases Section -->
        <section id="mental-health" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-brain"></i> Mental Health Cases Management</h2>
                <div class="header-actions">
                    <select id="mental-health-filter" class="form-control">
                        <option value="all">All Mental Health Issues</option>
                        <option value="depression">Depression</option>
                        <option value="stress">Stress/Anxiety</option>
                        <option value="stigma">Mental Stigma</option>
                        <option value="sleep">Sleep Issues</option>
                        <option value="academic">Academic Pressure</option>
                    </select>
                    <button class="btn btn-primary" onclick="exportMentalHealthData()">
                        <i class="fas fa-file-export"></i> Export Mental Health Data
                    </button>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="chart-container full-width">
                    <div class="chart-header">
                        <h3><i class="fas fa-chart-line"></i> Mental Health Trends</h3>
                        <span>Cases over time</span>
                    </div>
                    <canvas id="mentalHealthChart" height="100"></canvas>
                </div>

                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-chart-bar"></i> Issue Distribution</h3>
                        <span>Type of mental health concerns</span>
                    </div>
                    <canvas id="mentalIssuesChart"></canvas>
                </div>

                <div class="recent-activity">
                    <div class="activity-header">
                        <h3><i class="fas fa-user-md"></i> Critical Cases</h3>
                        <span>Requiring immediate attention</span>
                    </div>
                    <div class="activity-list" id="critical-cases-list">
                        <!-- Dynamic content loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Women's Health Section -->
        <section id="womens-health" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-female"></i> Women's Health Management</h2>
                <div class="header-actions">
                    <select id="womens-health-filter" class="form-control">
                        <option value="all">All Women's Health Issues</option>
                        <option value="menstrual">Menstrual Health</option>
                        <option value="contraception">Contraception</option>
                        <option value="pregnancy">Pregnancy Concerns</option>
                        <option value="harassment">Harassment</option>
                        <option value="safe-space">Safe Space Needs</option>
                    </select>
                    <button class="btn btn-primary" onclick="exportWomensHealthData()">
                        <i class="fas fa-download"></i> Export Data
                    </button>
                    <button class="btn btn-accent" onclick="scheduleWorkshop()">
                        <i class="fas fa-calendar-alt"></i> Schedule Workshop
                    </button>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #EC407A 0%, #D81B60 100%);">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="menstrual-cases">0</h3>
                        <p>Menstrual Health Cases</p>
                        <small><i class="fas fa-heartbeat"></i> Regular monitoring</small>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #AB47BC 0%, #8E24AA 100%);">
                        <i class="fas fa-user-shield"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="harassment-cases">0</h3>
                        <p>Harassment Reports</p>
                        <small><i class="fas fa-exclamation-triangle"></i> Immediate action needed</small>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #5C6BC0 0%, #3949AB 100%);">
                        <i class="fas fa-home"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="safe-space-cases">0</h3>
                        <p>Safe Space Requests</p>
                        <small><i class="fas fa-shield-alt"></i> Confidential support</small>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon" style="background: linear-gradient(135deg, #26A69A 0%, #00897B 100%);">
                        <i class="fas fa-baby"></i>
                    </div>
                    <div class="stat-info">
                        <h3 id="pregnancy-cases">0</h3>
                        <p>Pregnancy Concerns</p>
                        <small><i class="fas fa-hand-holding-heart"></i> Sensitive care</small>
                    </div>
                </div>
            </div>
        </section>

        <!-- Emergency Cases Section -->
        <section id="emergency-cases" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-ambulance"></i> Emergency Cases Management</h2>
                <div class="header-actions">
                    <button class="btn btn-primary" onclick="refreshEmergencyData()">
                        <i class="fas fa-sync-alt"></i> Refresh
                    </button>
                    <button class="btn btn-error" onclick="triggerEmergencyAlert()">
                        <i class="fas fa-bell"></i> Emergency Alert
                    </button>
                </div>
            </div>

            <div class="dashboard-grid">
                <div class="chart-container full-width">
                    <div class="chart-header">
                        <h3><i class="fas fa-exclamation-circle"></i> Active Emergency Cases</h3>
                        <span>Real-time monitoring</span>
                    </div>
                    <div class="emergency-list" id="emergency-cases-list">
                        <!-- Dynamic content loaded here -->
                    </div>
                </div>

                <div class="priority-stats">
                    <div class="priority-header">
                        <h3><i class="fas fa-headset"></i> Emergency Contacts</h3>
                        <span>Immediate response</span>
                    </div>
                    <div class="priority-list" id="emergency-contacts">
                        <div class="priority-item" onclick="callEmergency('0712345678')">
                            <span class="priority-label">
                                <i class="fas fa-phone-alt"></i> Campus Emergency
                            </span>
                            <span class="priority-count">0712 345 678</span>
                        </div>
                        <div class="priority-item" onclick="callEmergency('0723456789')">
                            <span class="priority-label">
                                <i class="fas fa-ambulance"></i> Medical Emergency
                            </span>
                            <span class="priority-count">0723 456 789</span>
                        </div>
                        <div class="priority-item" onclick="callEmergency('0734567890')">
                            <span class="priority-label">
                                <i class="fas fa-user-shield"></i> Security
                            </span>
                            <span class="priority-count">0734 567 890</span>
                        </div>
                        <div class="priority-item" onclick="callEmergency('0745678901')">
                            <span class="priority-label">
                                <i class="fas fa-theater-masks"></i> Counseling
                            </span>
                            <span class="priority-count">0745 678 901</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Analytics Section -->
        <section id="analytics" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-chart-line"></i> Health Analytics & Insights</h2>
                <div class="header-actions">
                    <div class="date-filter">
                        <select id="analytics-period" class="form-control">
                            <option value="7d">Last 7 Days</option>
                            <option value="30d" selected>Last 30 Days</option>
                            <option value="90d">Last 90 Days</option>
                            <option value="1y">Last Year</option>
                        </select>
                    </div>
                    <button class="btn btn-primary" onclick="generateAnalyticsReport()">
                        <i class="fas fa-file-pdf"></i> Generate Report
                    </button>
                </div>
            </div>
            <div class="dashboard-grid">
                <div class="chart-container full-width">
                    <div class="chart-header">
                        <h3><i class="fas fa-chart-line"></i> Health Trends Over Time</h3>
                        <span>Weekly progression analysis</span>
                    </div>
                    <canvas id="trendsChart" height="100"></canvas>
                </div>
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-map-marker-alt"></i> Location-wise Distribution</h3>
                        <span>Case locations heatmap</span>
                    </div>
                    <canvas id="locationChart"></canvas>
                </div>
                <div class="priority-stats">
                    <div class="priority-header">
                        <h3><i class="fas fa-chart-bar"></i> Key Health Metrics</h3>
                        <span>Performance indicators</span>
                    </div>
                    <div class="priority-list" id="health-metrics-list">
                        <!-- Dynamic content loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Medical Reports Section -->
        <section id="reports" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-file-medical-alt"></i> Medical Reports & Documentation</h2>
                <div class="header-actions">
                    <button class="btn btn-primary" onclick="generateMonthlyReport()">
                        <i class="fas fa-file-medical"></i> Monthly Report
                    </button>
                    <button class="btn btn-secondary" onclick="generateStatisticsReport()">
                        <i class="fas fa-chart-pie"></i> Statistics Report
                    </button>
                </div>
            </div>
            <div class="dashboard-grid">
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-file-pdf"></i> Available Reports</h3>
                        <span>Download medical reports</span>
                    </div>
                    <div class="reports-list" id="reports-list">
                        <!-- Dynamic content loaded here -->
                    </div>
                </div>
                <div class="chart-container">
                    <div class="chart-header">
                        <h3><i class="fas fa-calendar-check"></i> Scheduled Reports</h3>
                        <span>Upcoming report generation</span>
                    </div>
                    <div class="scheduled-reports" id="scheduled-reports">
                        <!-- Dynamic content loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- System Settings Section -->
        <section id="system" class="content-section">
            <div class="section-header">
                <h2><i class="fas fa-sliders-h"></i> Health Department Settings</h2>
                <div class="header-actions">
                    <button class="btn btn-primary" onclick="saveSettings()">
                        <i class="fas fa-save"></i> Save Settings
                    </button>
                </div>
            </div>
            <div class="dashboard-grid">
                <div class="chart-container">
                    <h3><i class="fas fa-tags"></i> Health Categories Management</h3>
                    <div class="categories-list" id="health-categories-settings">
                        <!-- Dynamic content loaded here -->
                    </div>
                </div>
                <div class="chart-container">
                    <h3><i class="fas fa-cogs"></i> System Configuration</h3>
                    <div class="config-options">
                        <label class="config-switch">
                            <input type="checkbox" id="real-time-alerts" checked>
                            <span class="slider"></span>
                            <span>Real-time Health Alerts</span>
                        </label>
                        <label class="config-switch">
                            <input type="checkbox" id="auto-backup" checked>
                            <span class="slider"></span>
                            <span>Automated Data Backup</span>
                        </label>
                        <label class="config-switch">
                            <input type="checkbox" id="maintenance-mode">
                            <span class="slider"></span>
                            <span>Maintenance Mode</span>
                        </label>
                        <label class="config-switch">
                            <input type="checkbox" id="privacy-protection" checked>
                            <span class="slider"></span>
                            <span>Privacy Protection</span>
                        </label>
                        <label class="config-switch">
                            <input type="checkbox" id="email-notifications" checked>
                            <span class="slider"></span>
                            <span>Email Notifications</span>
                        </label>
                    </div>
                </div>
                <div class="chart-container">
                    <h3><i class="fas fa-user-shield"></i> User Management</h3>
                    <div class="user-management" id="user-management">
                        <!-- Dynamic content loaded here -->
                    </div>
                </div>
                <div class="chart-container">
                    <h3><i class="fas fa-bell"></i> Notification Settings</h3>
                    <div class="notification-settings" id="notification-settings">
                        <!-- Dynamic content loaded here -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Enhanced Modal for Health Details -->
    <div id="healthDetailModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="modal-title"><i class="fas fa-file-medical-alt"></i> Health Record Details</h3>
                <span class="close" onclick="closeHealthModal()">&times;</span>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Dynamic content loaded here -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeHealthModal()">
                    <i class="fas fa-times"></i> Close
                </button>
                <button class="btn btn-primary" onclick="printRecord()">
                    <i class="fas fa-print"></i> Print Record
                </button>
                <button class="btn btn-accent" onclick="exportSingleRecord()">
                    <i class="fas fa-download"></i> Export
                </button>
            </div>
        </div>
    </div>

    <!-- Add Record Modal -->
    <div id="addRecordModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-plus-circle"></i> Add New Health Record</h3>
                <span class="close" onclick="closeAddRecordModal()">&times;</span>
            </div>
            <div class="modal-body">
                <form id="addRecordForm" onsubmit="submitNewRecord(event)">
                    <div class="health-details-grid">
                        <div class="detail-item">
                            <label><i class="fas fa-id-card"></i> Patient ID</label>
                            <input type="text" id="new-patient-id" class="form-control" placeholder="Enter patient ID"
                                required>
                        </div>
                        <div class="detail-item">
                            <label><i class="fas fa-user"></i> Full Name</label>
                            <input type="text" id="new-patient-name" class="form-control" placeholder="Enter full name"
                                required>
                        </div>
                        <div class="detail-item">
                            <label><i class="fas fa-venus-mars"></i> Gender</label>
                            <select id="new-patient-gender" class="form-control" required>
                                <option value="">Select Gender</option>
                                <option value="Male">Male</option>
                                <option value="Female">Female</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="detail-item">
                            <label><i class="fas fa-calendar-alt"></i> Age</label>
                            <input type="number" id="new-patient-age" class="form-control" placeholder="Enter age"
                                min="1" max="100" required>
                        </div>
                        <div class="detail-item full-width">
                            <label><i class="fas fa-map-marker-alt"></i> Location</label>
                            <select id="new-patient-location" class="form-control" required>
                                <option value="">Select Location</option>
                                <option value="Hostel A">Hostel A</option>
                                <option value="Hostel B">Hostel B</option>
                                <option value="Main Campus">Main Campus</option>
                                <option value="Library">Library</option>
                                <option value="Sports Complex">Sports Complex</option>
                                <option value="Other">Other</option>
                            </select>
                        </div>
                        <div class="detail-item full-width">
                            <label><i class="fas fa-comment-medical"></i> Main Complaint</label>
                            <textarea id="new-main-complaint" class="form-control"
                                placeholder="Describe the main complaint..." rows="3" required></textarea>
                        </div>
                        <div class="detail-item full-width">
                            <label><i class="fas fa-stethoscope"></i> Health Issues (Select all that apply)</label>
                            <div
                                style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 12px; margin-top: 12px;">
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" id="new-stress" value="stress">
                                    <span>Stress/Anxiety</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" id="new-depression" value="depression">
                                    <span>Depression</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" id="new-sleep-issues" value="sleepIssues">
                                    <span>Sleep Issues</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" id="new-academic-pressure" value="academicPressure">
                                    <span>Academic Pressure</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" id="new-flu" value="flu">
                                    <span>Flu/Common Cold</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="checkbox" id="new-stomach-issues" value="stomachIssues">
                                    <span>Stomach Issues</span>
                                </label>
                            </div>
                        </div>
                        <div class="detail-item full-width">
                            <label><i class="fas fa-first-aid"></i> Additional Notes</label>
                            <textarea id="new-additional-notes" class="form-control"
                                placeholder="Any additional notes or observations..." rows="2"></textarea>
                        </div>
                        <div class="detail-item">
                            <label><i class="fas fa-phone-alt"></i> Contact Number</label>
                            <input type="tel" id="new-contact-number" class="form-control" placeholder="0712 345 678">
                        </div>
                        <div class="detail-item">
                            <label><i class="fas fa-envelope"></i> Email</label>
                            <input type="email" id="new-email" class="form-control" placeholder="patient@example.com">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeAddRecordModal()">
                    <i class="fas fa-times"></i> Cancel
                </button>
                <button class="btn btn-primary" type="submit" form="addRecordForm">
                    <i class="fas fa-save"></i> Save Record
                </button>
            </div>
        </div>
    </div>

    <!-- Firebase Config -->
    <script src="../../../Backend/Firebase/firebaseConfig.js"></script>
    <!---// ============================================
        // UOE SAFE - HEALTH DEPARTMENT DASHBOARD-->
</body>

</html>